<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <data>
 
    <record id="view_repair_order_form" model="ir.ui.view">
        <field name="name">repair.form.ariis</field>
        <field name="model">repair.order</field>
        <field name="inherit_id" ref="repair.view_repair_order_form" />
        <field name="arch" type="xml">
            <xpath expr="//field[@name='partner_id']" position="after">
                <field name="ariis_id" invisible="1" />
                <field name="isariis"  />
                <field name="dispositivo_id"  invisible="isariis != True" readonly="state != 'draft'"/>
            </xpath>
             <xpath expr="//field[@name='product_id']" position="attributes">
                <attribute name="readonly">state in ['cancel', 'done'] or isariis==True</attribute>
            </xpath>
            <xpath expr="//field[@name='lot_id']" position="attributes">
                <attribute name="readonly">state == 'done' or tracking not in ['serial', 'lot'] or isariis==True</attribute>
            </xpath>
            <xpath expr="//field[@name='state' and @widget='statusbar']" position="attributes">
                <attribute name="statusbar_visible">draft,confirmed,under_repair,done,ko_done</attribute>
            </xpath>
            <xpath expr="//page[@name='parts']" position="before">
                <page string="Visita" name="general_information_visita" invisible="isariis != True">
                    <group>
                        <group>
                            <field name="motivo_id"  />
                            <field name="address_id"  />
                            <field name="priority"  />
                            
                        </group>
                         <group>
                            <field name="atencion"  />
                            <field name="schedule_date"  readonly="1"/>
                        </group>
                    </group>
                </page>
                <page string="Estados/Tiempos" name="general_information_tiempos" invisible="isariis != True">
                    <group string="Estados">
                        <group >
                            <field name="fstate_draft"  />
                            <field name="fstate_under_repair"  invisible="fstate_under_repair==False"/>
                            <field name="fstate_cancel" invisible="fstate_cancel==False" />
                            
                        </group>
                         <group>
                            <field name="fstate_confirmed"  invisible="fstate_confirmed==False"/>
                            <field name="fstate_done"  invisible="fstate_done==False"/>
                            <field name="fstate_ko_done" invisible="fstate_ko_done==False"/>
                        </group>
                    </group>
                    <group string="Tiempos">
                        <group>
                            <field name="tiempo_atender"  />
                            <field name="tiempo_tarea"  />
                        </group>
                         <group>
                            <field name="tiempo_terminar"  />
                            <field name="tiempo_cancelar"  />
                            <field name="tiempo_ko"  />
                            
                        </group>
                    </group>
                </page>
            </xpath>
            
        </field>
    </record>
    
    <record id="view_repair_order_form_filter" model="ir.ui.view">
        <field name="model">repair.order</field>
        <field name="name">repair.select.ariis</field>
        <field name="inherit_id" ref="repair.view_repair_order_form_filter" />
        <field name="arch" type="xml">
            <xpath expr="//field[@name='product_id']" position="after">
                <field name="dispositivo_id"/>
            </xpath>
        </field>
    </record>
    </data>
</odoo>
